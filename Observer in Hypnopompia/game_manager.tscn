[gd_scene load_steps=12 format=3 uid="uid://b1dmmacoex5dq"]

[ext_resource type="Shader" path="res://Systems/inverter.gdshader" id="1_0kmah"]
[ext_resource type="PackedScene" uid="uid://7jmsa1bknulo" path="res://Player/player.tscn" id="1_qc7xa"]
[ext_resource type="Texture2D" uid="uid://dyvjemeuxnl5o" path="res://First Section/big_white_circle.png" id="2_higsa"]
[ext_resource type="PackedScene" uid="uid://c30k3tgjk8k65" path="res://Enemies/First Section Enemies/enemy.tscn" id="2_kjtxs"]
[ext_resource type="Script" path="res://Systems/camera.gd" id="4_3rcpt"]
[ext_resource type="Script" path="res://Systems/summoner.gd" id="6_t1sbh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jeaky"]
shader = ExtResource("1_0kmah")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o4xjm"]
shader = ExtResource("1_0kmah")

[sub_resource type="Animation" id="Animation_3tkir"]
resource_name = "first_sequence"
length = 2.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Summoner")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [{
"args": [0, 0],
"method": &"summon"
}, {
"args": [0, 2],
"method": &"summon"
}, {
"args": [0],
"method": &"summon_on_all"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Summoner/Marker2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.5, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(802, 1008), Vector2(1665, 1012)]
}

[sub_resource type="Animation" id="Animation_j2qs7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Summoner/Marker2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(802, 1008)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qvh88"]
_data = {
"RESET": SubResource("Animation_j2qs7"),
"first_sequence": SubResource("Animation_3tkir")
}

[node name="GameManager" type="Node2D"]
metadata/_edit_lock_ = true

[node name="FirstSequence" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="InvertedEnemies" type="Node2D" parent="FirstSequence"]
metadata/_edit_lock_ = true

[node name="Enemy" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(68, 25)

[node name="Inverters" type="Node2D" parent="FirstSequence"]
z_index = 2
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="BigWhiteCircle" type="Sprite2D" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_jeaky")
position = Vector2(960, 540)
scale = Vector2(0.18, 0.18)
texture = ExtResource("2_higsa")

[node name="ColorRect" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 160.0
offset_top = 120.0
offset_right = 560.0
offset_bottom = 900.0

[node name="ColorRect2" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 1332.0
offset_top = 689.0
offset_right = 1732.0
offset_bottom = 1469.0

[node name="ColorRect3" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 1340.0
offset_top = -488.0
offset_right = 1740.0
offset_bottom = 292.0

[node name="DefaultEnemies" type="Node2D" parent="FirstSequence"]
z_index = 2
metadata/_edit_lock_ = true

[node name="FirstSequencePlayer" type="AnimationPlayer" parent="FirstSequence"]
libraries = {
"": SubResource("AnimationLibrary_qvh88")
}
autoplay = "first_sequence"

[node name="SecondSequence" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Enemies" type="Node2D" parent="SecondSequence"]
metadata/_edit_lock_ = true

[node name="Outside" type="Node2D" parent="."]
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Player" parent="Outside" node_paths=PackedStringArray("camera") instance=ExtResource("1_qc7xa")]
position = Vector2(960, 540)
camera = NodePath("../Camera2D")

[node name="Camera2D" type="Camera2D" parent="Outside"]
position = Vector2(960, 540)
script = ExtResource("4_3rcpt")
rStrength = 35.0
shakeFade = 10.0

[node name="Summoner" type="Node2D" parent="." node_paths=PackedStringArray("inverted_layer", "default_layer", "second_sequence_layer")]
script = ExtResource("6_t1sbh")
inverted_layer = NodePath("../FirstSequence/InvertedEnemies")
default_layer = NodePath("../FirstSequence/DefaultEnemies")
second_sequence_layer = NodePath("../SecondSequence/Enemies")

[node name="Marker2D" type="Marker2D" parent="Summoner"]
position = Vector2(802, 1008)

[node name="Marker2D2" type="Marker2D" parent="Summoner"]
position = Vector2(68, 238)

[node name="Marker2D3" type="Marker2D" parent="Summoner"]
position = Vector2(19, 449)

[node name="Marker2D4" type="Marker2D" parent="Summoner"]
position = Vector2(76, 691)

[node name="Marker2D5" type="Marker2D" parent="Summoner"]
position = Vector2(79, 940)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
