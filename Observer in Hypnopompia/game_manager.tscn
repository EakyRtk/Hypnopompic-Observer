[gd_scene load_steps=14 format=3 uid="uid://b1dmmacoex5dq"]

[ext_resource type="Shader" path="res://Systems/inverter.gdshader" id="1_0kmah"]
[ext_resource type="PackedScene" uid="uid://bpij8mrsuexhu" path="res://Enemies/AttackAreas/vertical_attack.tscn" id="1_gwnex"]
[ext_resource type="PackedScene" uid="uid://7jmsa1bknulo" path="res://Player/player.tscn" id="1_qc7xa"]
[ext_resource type="PackedScene" uid="uid://de6d18p6pwdmx" path="res://Enemies/AttackAreas/horizontal_attack.tscn" id="2_d5jud"]
[ext_resource type="Texture2D" uid="uid://dyvjemeuxnl5o" path="res://First Section/big_white_circle.png" id="2_higsa"]
[ext_resource type="PackedScene" uid="uid://c30k3tgjk8k65" path="res://Enemies/First Section Enemies/enemy.tscn" id="2_kjtxs"]
[ext_resource type="Script" path="res://Systems/camera.gd" id="4_3rcpt"]
[ext_resource type="Script" path="res://Systems/summoner.gd" id="6_t1sbh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jeaky"]
shader = ExtResource("1_0kmah")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o4xjm"]
shader = ExtResource("1_0kmah")

[sub_resource type="Animation" id="Animation_j2qs7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Summoner/Marker2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(802, 1008)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Inverters/ColorRect3:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(400, 780)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Inverters/ColorRect3:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(576, -499)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Inverters/ColorRect:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(160, 120)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Inverters/ColorRect:size")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(400, 780)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Inverters/ColorRect2:size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(400, 780)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Inverters/ColorRect2:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1332, 689)]
}

[sub_resource type="Animation" id="Animation_3tkir"]
resource_name = "first_sequence"
length = 10.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Summoner")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5, 1, 6),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [{
"args": [0, 0],
"method": &"summon"
}, {
"args": [0, 2],
"method": &"summon"
}, {
"args": [0],
"method": &"summon_on_all"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Summoner/Marker2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.5, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(802, 1008), Vector2(1665, 1012)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Inverters/ColorRect3:size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(400, 780), Vector2(1580, 876), Vector2(400, 876)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Inverters/ColorRect3:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(2.2),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(576, -499)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Inverters/ColorRect:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(2.2, 3.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(160, 120), Vector2(144, 729)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Inverters/ColorRect:size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(2.2, 3.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(400, 780), Vector2(1025, 251)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Inverters/ColorRect2:size")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(4),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(400, 780)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Inverters/ColorRect2:position")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(4, 5.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1332, 689), Vector2(1332, -144)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qvh88"]
_data = {
"RESET": SubResource("Animation_j2qs7"),
"first_sequence": SubResource("Animation_3tkir")
}

[node name="GameManager" type="Node2D"]
metadata/_edit_lock_ = true

[node name="SecondSequence" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="ParallaxBackground" type="ParallaxBackground" parent="SecondSequence"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="SecondSequence/ParallaxBackground"]

[node name="AttackAreas" type="Node2D" parent="SecondSequence"]

[node name="VerticalAttack" parent="SecondSequence/AttackAreas" instance=ExtResource("1_gwnex")]
position = Vector2(-1031, 190)
type = 1

[node name="HorizontalAttack" parent="SecondSequence/AttackAreas" instance=ExtResource("2_d5jud")]
position = Vector2(-383, 981)

[node name="Enemies" type="Node2D" parent="SecondSequence"]
metadata/_edit_lock_ = true

[node name="FirstSequence" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="InvertedEnemies" type="Node2D" parent="FirstSequence"]
metadata/_edit_lock_ = true

[node name="Enemy" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(673, 146)

[node name="Enemy2" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(1383, 35)

[node name="Enemy3" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(1726, 492)

[node name="Enemy4" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(1457, 960)

[node name="Enemy5" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(438, 970)

[node name="Enemy6" parent="FirstSequence/InvertedEnemies" instance=ExtResource("2_kjtxs")]
position = Vector2(266, 415)

[node name="Inverters" type="Node2D" parent="FirstSequence"]
z_index = 2
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="BigWhiteCircle" type="Sprite2D" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_jeaky")
position = Vector2(960, 540)
scale = Vector2(0.18, 0.18)
texture = ExtResource("2_higsa")

[node name="ColorRect" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 160.0
offset_top = 120.0
offset_right = 560.0
offset_bottom = 900.0

[node name="ColorRect2" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 1332.0
offset_top = 689.0
offset_right = 1732.0
offset_bottom = 1469.0

[node name="ColorRect3" type="ColorRect" parent="FirstSequence/Inverters"]
material = SubResource("ShaderMaterial_o4xjm")
offset_left = 576.0
offset_top = -499.0
offset_right = 976.0
offset_bottom = 281.0

[node name="DefaultEnemies" type="Node2D" parent="FirstSequence"]
z_index = 2
metadata/_edit_lock_ = true

[node name="FirstSequencePlayer" type="AnimationPlayer" parent="FirstSequence"]
libraries = {
"": SubResource("AnimationLibrary_qvh88")
}
autoplay = "first_sequence"

[node name="Outside" type="Node2D" parent="."]
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Player" parent="Outside" node_paths=PackedStringArray("camera") instance=ExtResource("1_qc7xa")]
position = Vector2(960, 540)
player_sequence = 1
camera = NodePath("../Camera")

[node name="Camera" type="Camera2D" parent="Outside"]
unique_name_in_owner = true
position = Vector2(960, 540)
script = ExtResource("4_3rcpt")
shakeFade = 6.0

[node name="Summoner" type="Node2D" parent="." node_paths=PackedStringArray("inverted_layer", "default_layer", "second_sequence_layer")]
visible = false
script = ExtResource("6_t1sbh")
inverted_layer = NodePath("../FirstSequence/InvertedEnemies")
default_layer = NodePath("../FirstSequence/DefaultEnemies")
second_sequence_layer = NodePath("../SecondSequence/Enemies")

[node name="Marker2D" type="Marker2D" parent="Summoner"]
position = Vector2(802, 1008)

[node name="Marker2D2" type="Marker2D" parent="Summoner"]
position = Vector2(1017, 100)

[node name="Marker2D3" type="Marker2D" parent="Summoner"]
position = Vector2(1664, 351)

[node name="Marker2D4" type="Marker2D" parent="Summoner"]
position = Vector2(130, 822)

[node name="Marker2D5" type="Marker2D" parent="Summoner"]
position = Vector2(991, 1001)

[node name="Marker2D6" type="Marker2D" parent="Summoner"]
position = Vector2(665, 877)

[node name="Marker2D7" type="Marker2D" parent="Summoner"]
position = Vector2(110, 534)

[node name="Marker2D8" type="Marker2D" parent="Summoner"]
position = Vector2(265, 107)

[node name="Marker2D9" type="Marker2D" parent="Summoner"]
position = Vector2(1557, 147)

[node name="Marker2D10" type="Marker2D" parent="Summoner"]
position = Vector2(1766, 726)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
